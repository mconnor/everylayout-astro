---
import { pagePaths } from '#lib/allPages.ts';

// const fileNameRegex = /([^/]+)$/;
// const pagesRegExp = /pages\/(.+)/;
// const afterComponentssRegex = /components\/(.+)/;
const regexAstro = /\.astro$/;
---

<h4>list off all pages</h4>

{
  pagePaths.length > 0 ? (
    <ul>
      {pagePaths
        // .map((page) => {
        //   const match = page.file.match(pagesRegExp);
        //   return match?.[1];
        // })
        // .filter((astroInst) => astroInst?.url && !/\[.*\]/.test(astroInst.url)) // Exclude paths with brackets
        // .map((astroInst) => {
        //   if (astroInst.url) {
        //     return astroInst?.url.replace(regexAstro, '');
        //   }
        // })
        .map((filteredPath) => (
          <li>
            <a href={filteredPath}>{filteredPath}</a>
          </li>
        ))}
    </ul>
  ) : (
    <p>no pages found</p>
  )
}
