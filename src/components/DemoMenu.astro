---
import { layoutDemoPages } from '#lib/getPages.js';

// const pathname = Astro.url.pathname.replace(import.meta.env.BASE_URL, '');
// const subpath = pathname.match(/[^/]+/g);
---

<wa-dropdown>
  <wa-button class="pink" slot="trigger" caret>Layout Demos</wa-button>
  <wa-menu>
    {
      layoutDemoPages.map(
        ({ url }) =>
          url && (
            <wa-menu-item variant="solid">
              {/* {url.split('/').pop()} */}
              <wa-button
                size="small"
                appearance="plain"
                variant="brand"
                href={url}
              >
                {url.split('/').pop()}
              </wa-button>
            </wa-menu-item>
          ),
      )
    }
  </wa-menu>
</wa-dropdown>
<!-- <wa-dropdown>
  <wa-button slot="trigger" caret>Dropdown</wa-button>
  <wa-menu>
    <wa-menu-item>Dropdown Item 1</wa-menu-item>
    <wa-menu-item>Dropdown Item 2</wa-menu-item>
    <wa-menu-item>Dropdown Item 3</wa-menu-item>
    <wa-divider></wa-divider>
    <wa-menu-item type="checkbox" checked>Checkbox</wa-menu-item>
    <wa-menu-item disabled>Disabled</wa-menu-item>
    <wa-divider></wa-divider>
    <wa-menu-item>
      Prefix
      <wa-icon slot="prefix" name="gift" variant="solid"></wa-icon>
    </wa-menu-item>
    <wa-menu-item>
      Suffix Icon
      <wa-icon slot="suffix" name="heart" variant="solid"></wa-icon>
    </wa-menu-item>
  </wa-menu>
</wa-dropdown> -->

<script>
  await Promise.allSettled([
    customElements.whenDefined('wa-button'),
    customElements.whenDefined('wa-menu'),
    customElements.whenDefined('wa-menu-item'),
  ]);

  // Button, card, and rating are registered now! Add
  // the `ready` class so the UI fades in.
  document.body.classList.add('ready');
</script>

<style>
  wa-button.pink::part(base) {
    border-radius: 6px;
    border: solid 2px;
    background: #ff1493;
    border-top-color: #ff7ac1;
    border-left-color: #ff7ac1;
    border-bottom-color: #ad005c;
    border-right-color: #ad005c;
    color: white;
    font-size: 1.125rem;
    box-shadow: 0 2px 10px #0002;
    transition: all var(--wa-transition-slow) var(--wa-transition-easing);
  }

  wa-button.pink::part(base):hover {
    transform: scale(1.05);
  }

  wa-button.pink::part(base):active {
    border-top-color: #ad005c;
    border-right-color: #ff7ac1;
    border-bottom-color: #ff7ac1;
    border-left-color: #ad005c;
    transform: translateY(1px);
  }

  wa-button.pink::part(base):focus-visible {
    outline: dashed 2px deeppink;
    outline-offset: 4px;
  }
</style>
