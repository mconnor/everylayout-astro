---
// intentinoally disruptive
// import { Switcher, Box, Cover } from '@cc/index';
// import { isOpen } from '@/store/index.ts';

interface Props {
  open?: boolean;
}

const { open = false } = Astro.props;
---

{
  open ? (
    <button id="openModalBtn">Open Modal</button>
  ) : (
    <div
      id="modal"
      class="modal"
      role="dialog"
      aria-labelledby="modalTitle"
      aria-describedby="modalDescription"
      aria-hidden="true"
    >
      <div class="modal-content">
        <button id="closeModalBtn" class="close-btn" aria-label="Close Modal">
          &times;
        </button>
        <h2 id="dialog_label">
          <slot name="headline" />
        </h2>
        <p id="modalDescription">
          This is a description of the modal content. Here you can place any
          content you like.
        </p>
      </div>
    </div>
  )
}

<!-- <div id="backdrop" class="no-scroll">
  <div
    role="alertdialog"
    aria-modal="true"
    aria-labelledby="dialog_label"
    aria-describedby="dialog_desc"
  >
    <h2 id="dialog_label"><slot name="headline" /></h2>

    <div id="dialog_desc">
      <p>Are you sure you want to delete this file?</p>
    </div>
    <button type="button" onclick="closeDialog(this)">
      No. Close this popup.
    </button>
    <button type="button" onclick="deleteFile(this)">
      Yes. Delete the file.
    </button>
  </div>
</div> -->

<!-- <div class="par">
  <div class="box-no-border surface4 modal pos">
    <Box invert borderWidth="0"> <slot /></Box>
    <div class="footer box-no-border">
      <Switcher threshold="10%">
        <Box padding="0">x</Box>
        <Box padding="0">x</Box>
      </Switcher>
    </div>
  </div>
</div> -->

<!-- <style define:vars={{ isOpen: open }}> -->
<style>
  .no-scroll {
    overflow: hidden;
  }
  .par {
    background-color: red;
    width: 100vw;
    height: 100vh;
  }
  .pos {
    position: fixed;
    top: 0;
    left: 0;
    right: 0;
    height: 80vh;
  }

  .displayModal {
  }

  .modal {
    display: block;
    position: fixed;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    background: rgba(0, 0, 0, 0.5);
    justify-content: center;
    align-items: center;
  }
  .footer {
    /* display: flex;
    flex-direction: column;
    justify-content: space-around; */
    /* position: fixed; */
    bottom: 0;
    left: 0;
    right: 0;
    /* box-l {
      flex-shrink: 1;
    } */
  }
</style>

<!-- <script>
  // Set the store to true when the button is clicked
  function openDialog() {
    isOpen.set(true);
  }
  function onShowModal() {
    console.log('onShowModal');
  }

  // Add an event listener to the button
  document?.getElementById('openDialog').addEventListener('click', openDialog);
</script> -->
